{"version":3,"sources":["icons sync /.svg$","icons/left.svg","icons/money.svg","icons/right.svg","icons/statistics.svg","icons/tag.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","lib/createIds.tsx","hooks/useUpdate.tsx","hooks/useTags.tsx","views/Money/TagsSection.tsx","views/Money/CategorySection.tsx","components/Input.tsx","views/Money/NoteSection.tsx","views/Money/NumberPadSection/Wrapper.tsx","views/Money/NumberPad.tsx","views/Money/NumberPadSection/calcOutput.tsx","hooks/useRecords.tsx","views/Money.tsx","components/Button.tsx","components/Center.tsx","views/Tags.tsx","views/Statistics.tsx","views/NoMatch.tsx","views/Tag.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","name","children","className","rest","classNames","xlinkHref","NavWrapper","styled","div","Nav","exact","activeClassName","to","Wrapper","Main","Layout","mainRef","useRef","useEffect","setTimeout","current","scrollTop","ref","defaultProps","parseInt","window","localStorage","getItem","createIds","setItem","JSON","stringify","useUpdate","fn","dependency","count","useTags","useState","tags","setTags","localTags","parse","length","findTag","filter","tag","updateTag","obj","findTagIndex","result","i","getName","t","deleteTag","addTag","tagName","prompt","InitSection","section","TagsSection","selectedTagIds","value","onClick","tagId","indexOf","onChange","CategorySection","category","categoryList","categoryMap","c","Label","label","Input","NoteSection","note","type","placeholder","target","NumberPadSection","toString","output","_setOutput","text","textContent","split","concat","newOutput","slice","parseFloat","setOutput","calcOutput","onOk","useRecords","records","setRecords","addRecord","newRecord","amount","alert","tagIds","record","createdAt","Date","toISOString","MyLayout","CategoryWrapper","defaultState","Money","selected","setSelected","Button","button","Center","TagList","ol","Tags","Header","h3","Item","Statistics","setCategory","selectedRecords","r","hash","key","day","format","push","array","entries","sort","a","b","date","reduce","span","index","NoMatch","TopBar","header","InputWrapper","Tag","idString","useParams","history","useHistory","goBack","tagContent","AppWrapper","App","path","from","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2bd6b105.chunk.js","sourcesContent":["var map = {\n\t\"./left.svg\": 40,\n\t\"./money.svg\": 41,\n\t\"./right.svg\": 42,\n\t\"./statistics.svg\": 43,\n\t\"./tag.svg\": 44\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 39;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style></style></defs><path d=\\\"M672 160a32 32 0 0122.72 54.72L397.12 512l297.6 297.28a32.128 32.128 0 01-45.44 45.44l-320-320a32 32 0 010-45.44l320-320A32 32 0 01672 160z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style></style></defs><path d=\\\"M580.878 972.35c-205.212 0-309.254-79.574-309.254-236.506 0-130.107 99.059-271.021 192.265-337.553a14.197 14.197 0 018.25-2.665h211.357c3.09 0 6.096 1.023 8.595 2.914 103.098 78.095 190.195 232.567 190.195 337.304 0 156.933-101.4 236.507-301.408 236.507zM678.7 426.388H476.72C389.678 490.4 300.965 622.245 300.965 735.845c0 138.446 91.565 205.748 279.914 205.748 185.626 0 272.07-65.382 272.07-205.748 0-93.304-80.987-236.645-174.25-309.458zM590.62 679.65v28.093h51.587c8.112 0 14.672 6.886 14.672 15.378 0 8.496-6.56 15.384-14.672 15.384H590.62v38.71h51.587c8.112 0 14.672 6.888 14.672 15.38 0 8.494-6.56 15.38-14.672 15.38H590.62v50.34c0 8.494-6.578 15.377-14.67 15.377-8.109 0-14.67-6.884-14.67-15.377v-50.34H512.37c-8.092 0-14.67-6.886-14.67-15.38 0-8.492 6.578-15.38 14.67-15.38h48.912v-38.71h-48.912c-8.092 0-14.67-6.888-14.67-15.384 0-8.493 6.578-15.378 14.67-15.378h48.912v-28.185l-96.333-130.322c-4.956-6.717-3.787-16.375 2.614-21.578 6.412-5.199 15.624-3.972 20.582 2.743l87.92 118.947 89.79-119.068c5.02-6.656 14.248-7.79 20.611-2.531 6.35 5.269 7.434 14.944 2.405 21.604l-98.25 130.297zm89.367-339.378c8.108 0 14.67 6.886 14.67 15.38 0 8.495-6.562 15.382-14.67 15.382H469.922c-8.096 0-14.672-6.887-14.672-15.383 0-8.492 6.576-15.38 14.672-15.38h210.065zm-5.431-39.81c0 8.494-6.56 15.378-14.67 15.378H487.515c-8.097 0-14.672-6.884-14.672-15.379 0-48.458-56.028-135.244-77.625-164.592-3.416-4.641-4.019-10.918-1.555-16.177 2.472-5.265 7.578-8.599 13.165-8.599 43.783 0 88.351 33.231 111.221 53.246l42.242-99.852c2.356-5.565 7.608-9.147 13.41-9.147 5.8 0 11.059 3.582 13.408 9.147l42.248 99.852c22.88-20.016 67.45-53.246 111.216-53.246 5.594 0 10.701 3.334 13.166 8.599 2.464 5.258 1.862 11.535-1.55 16.177-21.586 29.348-77.633 116.134-77.633 164.592zm-40.054-99.67c-3.417 3.582-8.318 5.181-13.05 4.243-4.758-.922-8.77-4.251-10.732-8.885l-37.018-87.497-37.021 87.497c-1.956 4.634-5.967 7.954-10.715 8.885-4.759.916-9.635-.652-13.05-4.236-.448-.456-34.388-35.573-72.492-51.381 22.22 34.718 54.093 90.808 60.585 135.665H646.4c6.483-44.78 38.253-100.744 60.465-135.472-31.168 13.053-60.888 39.157-72.362 51.181z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M352 864a32 32 0 01-22.72-54.72L626.88 512l-297.6-297.28a32.128 32.128 0 0145.44-45.44l320 320a32 32 0 010 45.44l-320 320A32 32 0 01352 864z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"statistics\",\n  \"use\": \"statistics-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"statistics\\\"><defs><style></style></defs><path d=\\\"M154.4 1024H2.4V714.8H154V1024zM16 1010.4h124.4v-282H16v282z\\\" /><path d=\\\"M32 744h92.8v250.4H32zM394.4 1024H242.8V411.6h151.6V1024zm-138-13.6h124.4V425.2H256.4v585.2z\\\" /><path d=\\\"M272 440.8h92.8v553.6H272zM634.8 1024H483.2V527.2h151.6V1024zm-138-13.6h124.4V540.8H496.8v469.6z\\\" /><path d=\\\"M512.4 556.4h92.8v438h-92.8zM875.2 1024H723.6V199.6h151.6V1024zm-138.4-13.6h124.4V212.8H736.8v797.6z\\\" /><path d=\\\"M752.8 228.8h92.8v766h-92.8zM980.8 1020.8h-13.6v-13.6h13.6v13.6zm0-27.2h-13.6V980h13.6v13.6zm0-26.8h-13.6v-13.6h13.6v13.6zm0-27.2h-13.6V926h13.6v13.6zm0-27.2h-13.6v-13.6h13.6v13.6zm0-27.2h-13.6V872h13.6v13.2zm0-26.8h-13.6v-13.6h13.6v13.6zm0-27.2h-13.6v-13.6h13.6v13.6zm0-27.2h-13.6v-13.6h13.6V804zm0-27.2h-13.6v-13.6h13.6v13.6zm0-26.8h-13.6v-13.6h13.6V750zm0-27.2h-13.6v-13.6h13.6v13.6zm0-27.2h-13.6V682h13.6v13.6zm0-27.2h-13.6v-13.6h13.6v13.6zm0-26.8h-13.6V628h13.6v13.6zm0-27.2h-13.6v-13.6h13.6v13.6zm0-27.2h-13.6v-13.6h13.6v13.6zm0-27.2h-13.6v-13.6h13.6V560zm0-26.8h-13.6v-13.6h13.6v13.6zm0-27.2h-13.6v-13.6h13.6V506zm0-27.2h-13.6v-13.6h13.6v13.6zm0-27.2h-13.6V438h13.6v13.6zm0-26.8h-13.6v-13.6h13.6v13.6zm0-27.2h-13.6V384h13.6v13.6zm0-27.2h-13.6v-13.6h13.6v13.6zm0-27.2h-13.6v-13.6h13.6v13.6zm0-27.2h-13.6v-13.6h13.6V316zm0-26.8h-13.6v-13.6h13.6v13.6zm0-27.2h-13.6v-13.6h13.6V262zm0-27.2h-13.6v-13.6h13.6v13.6zm0-27.2h-13.6V194h13.6v13.6zm0-26.8h-13.6v-13.6h13.6v13.6zm0-27.2h-13.6V140h13.6v13.6zm0-27.2h-13.6v-13.6h13.6v13.6zm0-27.2h-13.6V85.6h13.6v13.6zm0-26.8h-13.6v-4h13.6v4z\\\" /><path d=\\\"M1010.8 114L974 69.2 936.8 114l-10.4-8.8L974 48l47.6 57.2zM665.2 0l36 36-230.8 217.2-151.2-131.6L5.6 380v76L318 198.4l154 134L742.8 77.6l39.6 40L782.8 0z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><defs><style></style></defs><path d=\\\"M110.933 708.267c-12.8 12.8-12.8 34.133 0 46.933C192 849.067 315.733 904.533 448 904.533s251.733-55.466 341.333-157.866c55.467-64 85.334-149.334 85.334-238.934S844.8 332.8 793.6 268.8c0-4.267-4.267-4.267-4.267-8.533-4.266-4.267-4.266-12.8 0-17.067l55.467-59.733c4.267-4.267 4.267-12.8 0-17.067l-17.067-21.333c-4.266-4.267-17.066-4.267-21.333 0l-59.733 68.266c-4.267 4.267-12.8 4.267-21.334 0-42.666-29.866-93.866-42.666-145.066-42.666-76.8 0-149.334 34.133-204.8 98.133-55.467 64-89.6 136.533-128 209.067-34.134 76.8-72.534 153.6-136.534 230.4zm469.334-499.2c42.666 0 85.333 12.8 119.466 34.133 8.534 4.267 8.534 12.8 4.267 17.067L605.867 384c-8.534 12.8 8.533 29.867 21.333 17.067l106.667-115.2c4.266-4.267 12.8-4.267 17.066 0l4.267 4.266C802.133 345.6 827.733 422.4 827.733 499.2c0 81.067-25.6 153.6-72.533 209.067-81.067 93.866-192 145.066-315.733 145.066-115.2 0-221.867-46.933-298.667-123.733-4.267-4.267-4.267-12.8 0-17.067 59.733-76.8 98.133-149.333 136.533-226.133 38.4-59.733 72.534-128 123.734-187.733 46.933-55.467 110.933-89.6 179.2-89.6z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\r\ntry {\r\n  importAll(require.context('icons',true,/\\.svg$/));} catch (error){\r\n  console.log(error);\r\n}\r\n\r\ntype x = {\r\n  name?: string\r\n}& React.SVGAttributes<SVGElement>\r\n\r\nconst Icon = (props: x) => {\r\n  const {name,children,className,...rest}=props\r\n  return (\r\n    <svg className={classNames('icon',className)} {...rest}>\r\n      {props.name && <use xlinkHref={'#' + props.name}/>}\r\n    </svg>\r\n  );\r\n};\r\nexport default Icon;","import styled from 'styled-components';\r\nimport {NavLink} from 'react-router-dom';\r\nimport React from 'react';\r\nimport Icon from './Icon';\r\n\r\n\r\nconst NavWrapper = styled.div`\r\n  background: white;\r\n  line-height: 24px;\r\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.25);\r\n\r\n  > ul {\r\n    display: flex;\r\n\r\n    > li {\r\n      width: 33.3333%;\r\n      text-align: center;\r\n\r\n      > a {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        padding: 4px 0;\r\n\r\n        .icon {\r\n          width: 24px;\r\n          height: 24px;\r\n        }\r\n\r\n        &.selected {\r\n          color: lightblue;\r\n\r\n          .icon {\r\n            fill: lightblue;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst Nav = () => {\r\n  return (\r\n    <NavWrapper>\r\n      <ul>\r\n        <li>\r\n          <NavLink  exact activeClassName='selected' to=\"/tags\">\r\n            <Icon name='tag'/>标签页</NavLink>\r\n        </li>\r\n\r\n        <li>\r\n          <NavLink activeClassName='selected' to=\"/money\">\r\n            <Icon name='money'/>记账页</NavLink>\r\n        </li>\r\n\r\n        <li>\r\n\r\n          <NavLink activeClassName='selected' to=\"/statistics\">\r\n            <Icon name='statistics'/>统计页</NavLink>\r\n        </li>\r\n      </ul>\r\n    </NavWrapper>\r\n  );\r\n};\r\nexport default Nav;","import Nav from './Nav';\r\nimport React, {useEffect, useRef} from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nconst Main = styled.div`\r\n\r\n  flex-grow: 1;\r\n  overflow: auto;\r\n`;\r\ntype Props={\r\n  className?:string;\r\n  scrollTop?:number;\r\n}\r\nconst Layout:React.FC<Props> =(props)=>{\r\n  const mainRef=useRef<HTMLDivElement>(null)\r\n  useEffect(()=>{\r\n    setTimeout(()=>{\r\n\r\n      if (!mainRef.current){return;}\r\n      mainRef.current.scrollTop=props.scrollTop!\r\n\r\n    },0)\r\n\r\n  },[props.scrollTop])\r\n  return(\r\n    <Wrapper>\r\n      <Main ref={mainRef} className={props.className}>\r\n        {props.children}\r\n      </Main>\r\n      <Nav/>\r\n    </Wrapper>\r\n  )\r\n\r\n}\r\nLayout.defaultProps={\r\n  scrollTop:0\r\n}\r\nexport default Layout","let id = parseInt(window.localStorage.getItem('idMax')||'0');\r\nconst createIds = () => {\r\n  id += 1;\r\n  window.localStorage.setItem('idMax',JSON.stringify(id))\r\n  return id;\r\n};\r\nexport {createIds};","import {useEffect, useRef} from 'react';\r\n\r\nexport const useUpdate=(fn:()=>void, dependency:any[])=>{\r\n\r\n  const count=useRef(0)\r\n  useEffect(()=>{\r\n    count.current+=1\r\n  })\r\n  useEffect(()=>{\r\n    if (count.current>1)\r\n      fn()\r\n  },[fn, dependency])\r\n\r\n\r\n}\r\n","import {useEffect, useState} from 'react';\r\nimport {createIds} from '../lib/createIds';\r\nimport {useUpdate} from './useUpdate';\r\n\r\nconst useTags = () => {\r\n  const [tags, setTags] = useState<{ id: number; name: string }[]>([]);\r\n  const findTag = (id: number) => tags.filter(tag => tag.id === id)[0];\r\n  useEffect(() => {\r\n    let localTags = JSON.parse(window.localStorage.getItem('tags') || '[]');\r\n    if (localTags.length === 0) {\r\n      localTags = [\r\n        {id: createIds(), name: '衣'},\r\n        {id: createIds(), name: '食'},\r\n        {id: createIds(), name: '住'},\r\n        {id: createIds(), name: '行'}\r\n      ];\r\n    }\r\n    setTags(localTags);\r\n  }, []);\r\n  useUpdate(() => {\r\n    window.localStorage.setItem('tags', JSON.stringify(tags));\r\n  }, tags);\r\n  const findTagIndex = (id: number) => {\r\n    let result = -1;\r\n    for (let i = 0; i < tags.length; i++) {\r\n      if (tags[i].id === id) {\r\n        result = i;\r\n        break;\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n  const updateTag = (id: number, obj: { name: string }) => {\r\n    setTags(tags.map(tag => tag.id === id ? {id, name: obj.name} : tag));\r\n  };\r\n  const deleteTag = (id: number) => {\r\n    setTags(tags.filter(tag => tag.id !== id));\r\n  };\r\n  const addTag = () => {\r\n    const tagName = window.prompt('新添加的标签名为');\r\n    if (tagName !== null) {\r\n      setTags([...tags, {id: createIds(), name: tagName}]);\r\n    }\r\n  };\r\n  const getName = (id:number) => {\r\n    const tag = tags.filter(t => t.id === id)[0];\r\n    return tag ? tag.name : '';\r\n  };\r\n  return {tags, setTags, findTag, updateTag, findTagIndex, getName, deleteTag, addTag};\r\n};\r\nexport {useTags};","import styled from 'styled-components';\r\nimport React from 'react';\r\nimport {useTags} from 'hooks/useTags';\r\n\r\n\r\nconst InitSection = styled.section`\r\n  background: #FFFFFF;\r\n  padding: 12px 16px;\r\n  flex-grow: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  align-items: flex-start;\r\n\r\n  > ol {\r\n    margin: 0 -12px;\r\n\r\n    > li {\r\n      background: #D9D9D9;\r\n      border-radius: 18px;\r\n      display: inline-block;\r\n      padding: 3px 18px;\r\n      font-size: 14px;\r\n      margin: 8px 12px;\r\n\r\n      &.selected {\r\n        background: lightblue;\r\n      }\r\n    }\r\n  }\r\n\r\n  > button {\r\n    background: none;\r\n    border: none;\r\n    border-bottom: 1px solid #333;\r\n    padding: 2px 4px;\r\n    color: #666;\r\n    margin-top: 8px;\r\n  }\r\n`;\r\ntype Props = {\r\n  value: number[];\r\n  onChange: (selected:number[]) => void\r\n}\r\nconst TagsSection: React.FC<Props> = (props) => {\r\n  const {tags,addTag}=useTags()\r\n  const selectedTagIds = props.value;\r\n\r\n  const onToggleTag = (tagId: number) => {\r\n    const index = selectedTagIds.indexOf(tagId);\r\n    if (index >= 0) {\r\n      props.onChange(selectedTagIds.filter(t => t !== tagId));\r\n    } else {\r\n      props.onChange([...selectedTagIds, tagId]);\r\n    }\r\n  };\r\n  return (\r\n    <InitSection>\r\n      <ol>\r\n        {tags.map(tag =>\r\n          <li onClick={() => {\r\n            onToggleTag(tag.id);\r\n          }}\r\n              key={tag.id}\r\n              className={selectedTagIds.indexOf(tag.id) >= 0 ? 'selected' : ''}\r\n          >{tag.name}</li>)}\r\n\r\n      </ol>\r\n      <button onClick={addTag}>新增标签</button>\r\n    </InitSection>\r\n  );\r\n};\r\n\r\n\r\nexport {TagsSection};","import styled from 'styled-components';\r\nimport React, {useState} from 'react';\r\n\r\nconst Wrapper = styled.section`\r\n  font-size: 24px;\r\n\r\n  > ul {\r\n    display: flex;\r\n\r\n\r\n    > li {\r\n      width: 50%;\r\n      text-align: center;\r\n      padding: 16px 0;\r\n      position: relative;\r\n\r\n      &.selected::after {\r\n        content: '';\r\n        display: block;\r\n        height: 3px;\r\n        background: #333;\r\n        position: absolute;\r\n        bottom: 0;\r\n        width: 100%;\r\n        left: 0;\r\n      }\r\n    }\r\n  }\r\n`;\r\ntype Props={\r\n  value:'-'|'+',\r\nonChange:(value:'-'|'+')=>void\r\n}\r\nconst CategorySection: React.FC<Props> = (props) => {\r\n  const category=props.value\r\n  const [categoryList] = useState<Keys[]>(['-', '+']);\r\n  const categoryMap = {'-': '支出', '+': '收入'};\r\n  type Keys = keyof typeof categoryMap\r\n  return (\r\n    <Wrapper>\r\n      <ul>\r\n        {categoryList.map(c =>\r\n          <li key={c}\r\n            className={category === c ? 'selected' : ''}\r\n              onClick={() => {\r\n                props.onChange(c);\r\n              }}\r\n          >{categoryMap[c]}\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport {CategorySection};","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Label = styled.label`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  > span {\r\n    margin-right: 16px;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  > input {\r\n    display: block;\r\n    width: 100%;\r\n    height: 44px;\r\n    background: none;\r\n    border: none;\r\n  }\r\n`;\r\ntype Props={\r\n  label:string;\r\n} & React.InputHTMLAttributes<HTMLInputElement>\r\nconst Input: React.FC <Props> = (props) => {\r\n const {label,children,...rest}=props\r\n  return (\r\n    <Label>\r\n      <span>{props.label}</span>\r\n      <input {...rest}/>\r\n    </Label>\r\n  );\r\n};\r\nexport {Input};","import styled from 'styled-components';\r\nimport React, {ChangeEventHandler} from 'react';\r\nimport {Input} from '../../components/Input';\r\n\r\nconst Wrapper = styled.section`\r\n  background: #f5f5f5;\r\n  padding:10px 16px;\r\n  font-size: 14px;\r\n\r\n \r\n`;\r\ntype Props={\r\n  value:string;\r\n  onChange:(value:string)=>void;\r\n}\r\nconst NoteSection: React.FC<Props> = (props) => {\r\n  const note=props.value\r\n  const MouseOut:ChangeEventHandler<HTMLInputElement> =(e)=>{\r\n    props.onChange(e.target.value)\r\n  }\r\n  return (\r\n    <Wrapper>\r\n<Input label='备注' type='text' placeholder='请在此处输入备注' value={note} onChange={MouseOut}>\r\n\r\n</Input>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport {NoteSection};","import styled from 'styled-components';\r\n\r\nconst Wrapper = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  > output {\r\n    background: white;\r\n    font-size: 36px;\r\n    line-height: 72px;\r\n    text-align: right;\r\n    padding: 0 16px;\r\n    box-shadow: inset  0 -5px 5px -5px rgba(0, 0, 0, 0.25),\r\n    inset 0 5px 5px -5px rgba(0, 0, 0, 0.25);\r\n  }\r\n\r\n  > .pad {\r\n\r\n    > button {\r\n      font-size: 18px;\r\n      float: left;\r\n      width: 25%;\r\n      height: 64px;\r\n      border: none;\r\n\r\n      &.ok {\r\n        height: 128px;\r\n        float: right;\r\n      }\r\n\r\n      &.zero {\r\n        width: 50%;\r\n      }\r\n\r\n      &:nth-child(1) {\r\n        background: #f2f2f2;\r\n      }\r\n\r\n      &:nth-child(2), &:nth-child(5) {\r\n        background: #E0E0E0;\r\n      }\r\n\r\n      &:nth-child(3), &:nth-child(6), &:nth-child(9) {\r\n        background: #D3D3D3;\r\n      }\r\n\r\n      &:nth-child(4), &:nth-child(7), &:nth-child(10) {\r\n        background: #C1C1C1;\r\n      }\r\n\r\n      &:nth-child(8), &:nth-child(11), &:nth-child(13) {\r\n        background: #BBBBBB;\r\n      }\r\n\r\n      &:nth-child(12) {\r\n        background: #9A9A9A;\r\n      }\r\n\r\n      &:nth-child(14) {\r\n        background: #A9A9A9;\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport {Wrapper}","import React, {useState} from 'react';\r\nimport {Wrapper} from './NumberPadSection/Wrapper';\r\nimport {calcOutput} from './NumberPadSection/calcOutput';\r\n\r\ntype Props = {\r\n  value: number,\r\n  onChange: (value: number) => void,\r\n  onOk?: () => void\r\n}\r\nconst NumberPadSection: React.FC<Props> = (props) => {\r\n  const [output, _setOutput] = useState(props.value.toString());\r\n  const setOutput = (output: string) => {\r\n    let newOutput;\r\n    if (output.length > 16) {\r\n      newOutput = output.slice(0, 16);\r\n    } else if (output.length === 0) {\r\n      newOutput = '0';\r\n    } else {\r\n      newOutput = output;\r\n    }\r\n    _setOutput(newOutput);\r\n    props.onChange(parseFloat(newOutput));\r\n  };\r\n  const onClickNumber = (e: React.MouseEvent) => {\r\n    const text = (e.target as HTMLButtonElement).textContent;\r\n    if (text === null) {\r\n      return;\r\n    }\r\n    if (text === 'OK') {\r\n      if (props.onOk) {\r\n        props.onOk();\r\n      }\r\n      return;\r\n    }\r\n    if ('0123456789.'.split('').concat(['删除', '清空']).indexOf(text) >= 0) {\r\n      setOutput(calcOutput(text, output));\r\n    }\r\n\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <output className='output'>{output}</output>\r\n      <div className='pad clearfix' onClick={onClickNumber}>\r\n        <button>1</button>\r\n        <button>2</button>\r\n        <button>3</button>\r\n        <button>删除</button>\r\n        <button>4</button>\r\n        <button>5</button>\r\n        <button>6</button>\r\n        <button>清空</button>\r\n        <button>7</button>\r\n        <button>8</button>\r\n        <button>9</button>\r\n        <button className='ok'>OK</button>\r\n        <button className='zero'>0</button>\r\n        <button className='point'>.</button>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport {NumberPadSection};","const calcOutput = (text: string, output = '0') => {\r\n  switch (text) {\r\n    case '0':\r\n    case '1':\r\n    case '2':\r\n    case '3':\r\n    case '4':\r\n    case '5':\r\n    case '6':\r\n    case '7':\r\n    case '8':\r\n    case '9':\r\n      if (output === '0') {\r\n        return text;\r\n      } else {\r\n        return output + text;\r\n      }\r\n    case '.':\r\n      if (output.indexOf('.') >= 0) {\r\n        return output;\r\n      }\r\n      return output + '.';\r\n    case '删除':\r\n      if (output.length === 1) {\r\n        return '';\r\n      } else {\r\n        return output.slice(0, -1) || '';\r\n      }\r\n    case '清空':\r\n      return '';\r\n    default:\r\n      return '';\r\n  }\r\n\r\n};\r\nexport {calcOutput};","import {useEffect, useState} from 'react';\r\nimport {useUpdate} from './useUpdate';\r\n\r\nexport type RecordItem = {\r\n  tagIds: number[]\r\n  note: string\r\n  category: '+' | '-'\r\n  amount: number\r\n  createdAt: string//ISO 8601\r\n}\r\ntype newRecordItem = Omit<RecordItem, 'createdAt'>//omit 忽略 createdAt\r\nexport const useRecords = () => {\r\n  const [records, setRecords] = useState<RecordItem[]>([]);\r\n  useEffect(() => {\r\n    setRecords(JSON.parse(window.localStorage.getItem('records') || '[]'));\r\n  }, []);\r\n\r\n  useUpdate(() => {\r\n    window.localStorage.setItem('records', JSON.stringify(records));\r\n  }, records);\r\n  const addRecord = (newRecord: newRecordItem) => {\r\n    if (newRecord.amount <= 0) {\r\n      alert('请输入金额')\r\n      return false;\r\n    }\r\n    if (newRecord.tagIds.length === 0) {\r\n      alert('请选择标签');\r\n      return false;\r\n    }\r\n    const record = {...newRecord, createdAt: (new Date()).toISOString()};\r\n    setRecords([...records, record]);\r\n    return true;\r\n  };\r\n  return {records, addRecord};\r\n};","import Layout from '../components/Layout';\r\nimport React, {useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport {TagsSection} from './Money/TagsSection';\r\nimport {CategorySection} from './Money/CategorySection';\r\nimport {NoteSection} from './Money/NoteSection';\r\nimport {NumberPadSection} from './Money/NumberPad';\r\nimport {useRecords} from '../hooks/useRecords';\r\n\r\n\r\nconst MyLayout = styled(Layout)`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nconst CategoryWrapper=styled.div`\r\nbackground: #c4c4c4;\r\n`\r\ntype Category = '-' | '+'\r\nconst defaultState={\r\n  tagIds: [] as number[],\r\n  note: '',\r\n  category: '-' as Category,\r\n  amount: 0\r\n}\r\n\r\nfunction Money() {\r\n  const [selected, setSelected] = useState(defaultState);\r\n  const onChange = (obj: Partial<typeof selected>) => {\r\n    setSelected({\r\n      ...selected,\r\n      ...obj\r\n    });\r\n  };\r\n  const {addRecord} = useRecords();\r\n  const submit = () => {\r\n    if (addRecord(selected)){\r\n      alert('保存成功！')\r\n      setSelected(defaultState)\r\n    }\r\n\r\n\r\n  };\r\n  return (\r\n    <MyLayout scrollTop={9999}>\r\n      <TagsSection value={selected.tagIds}\r\n                   onChange={(tagIds) => {\r\n                     onChange({tagIds});\r\n                   }}/>\r\n      <NoteSection value={selected.note}\r\n                   onChange={note => {\r\n                     onChange({note});\r\n                   }}/>\r\n                   <CategoryWrapper>\r\n      <CategorySection value={selected.category}\r\n                       onChange={category => {\r\n                         onChange({category});\r\n                       }}\r\n      /></CategoryWrapper>\r\n      <NumberPadSection value={selected.amount}\r\n                        onChange={amount => {\r\n                          onChange({amount});\r\n                        }}\r\n                        onOk={submit}\r\n      />\r\n    </MyLayout>\r\n  )\r\n    ;\r\n}\r\n\r\nexport default Money;","import styled from 'styled-components';\r\n\r\nconst Button=styled.button`\r\nfont-size: 18px;\r\n  border: none;\r\n  padding: 8px 12px;\r\n  background: #767676;\r\n  border-radius: 4px;\r\n  color: white;\r\n`\r\nexport {Button}","import styled from 'styled-components';\r\n\r\nconst Center=styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 108px;\r\n`\r\nexport {Center}","import Layout from 'components/Layout';\r\nimport React from 'react';\r\nimport {useTags} from 'hooks/useTags';\r\nimport styled from 'styled-components';\r\nimport Icon from 'components/Icon';\r\nimport { Link } from 'react-router-dom';\r\nimport {Button} from 'components/Button';\r\nimport {Center} from '../components/Center';\r\n\r\nconst TagList = styled.ol`\r\n  font-size: 16px;\r\n  background: white;\r\n\r\n  > li {\r\n    border-bottom: 1px solid #d5d5d9;\r\n    line-height: 20px;\r\n    margin: 0 16px;\r\n    >a{\r\n      padding: 12PX 16px 12px 0;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n    }\r\n  }\r\n`;\r\n\r\nfunction Tags() {\r\n  const {tags,addTag} = useTags();\r\n  return (\r\n    <Layout>\r\n      <TagList>\r\n        {tags.map(tag =>\r\n          <li key={tag.id}>\r\n            <Link to={'/tags/'+tag.id}>\r\n            <span className='onLine'>{tag.name}</span>\r\n            <Icon name=\"right\"/>\r\n            </Link>\r\n          </li>)}\r\n      </TagList>\r\n      <Center> <Button onClick={addTag}>新增标签</Button></Center>\r\n\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Tags;","import Layout from '../components/Layout';\r\nimport React, {ReactNode, useState} from 'react';\r\nimport {CategorySection} from './Money/CategorySection';\r\nimport styled from 'styled-components';\r\nimport {useRecords, RecordItem} from '../hooks/useRecords';\r\nimport {useTags} from '../hooks/useTags';\r\nimport day from 'dayjs';\r\n\r\nconst Wrapper = styled.div`\r\n  background: white;\r\n`;\r\nconst Header = styled.h3`\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n`;\r\nconst Item = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background: white;\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n\r\n  > .note {\r\n    margin-right: auto;\r\n    margin-left: 16px;\r\n    color: #999;\r\n  }\r\n`;\r\n\r\nfunction Statistics() {\r\n  const [category, setCategory] = useState<'-' | '+'>('-');\r\n  const {records} = useRecords();\r\n  const {getName} = useTags();\r\n  const selectedRecords = records.filter(r => r.category === category);\r\n  const hash: { [K: string]: RecordItem[] } = {};\r\n  selectedRecords.forEach(r => {\r\n    const key = day(r.createdAt).format('YYYY年MM月DD日');\r\n    if (!(key in hash)) {\r\n      hash[key] = [];\r\n    }\r\n    hash[key].push(r);\r\n  });\r\n  const array = Object.entries(hash).sort((a, b) => {\r\n    if (a[0] === b[0]) {\r\n      return 0;\r\n    }\r\n    if (a[0] > b[0]) {\r\n      return -1;\r\n    }\r\n    if (a[0] < b[0]) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  });\r\n  return (\r\n    <Layout>\r\n      <Wrapper>\r\n        <CategorySection value={category}\r\n                         onChange={value => {\r\n                           setCategory(value);\r\n                         }}\r\n        /></Wrapper>\r\n      {array.map(([date, records]) =>\r\n        <div>\r\n          <Header>{date}</Header>\r\n          <div>\r\n            {records.map(r => {\r\n              return <Item key={r.createdAt}>\r\n                <div className='tags'>\r\n                  {r.tagIds\r\n                    .map(tagId => <span key={tagId}>{getName(tagId)}</span>)\r\n                    .reduce((result,span,index,array)=>\r\n                    result.concat(index<array.length-1 ?[span,'，']:[span]), [] as ReactNode[])\r\n                  }\r\n\r\n                </div>\r\n                {r.note && <div className=\"note\">\r\n                  {r.note}\r\n                </div>}\r\n                <div className=\"amount\">\r\n                  ￥{r.amount}\r\n                </div>\r\n              </Item>;\r\n            })}\r\n          </div>\r\n\r\n        </div>)}\r\n\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Statistics;","import React from 'react';\r\n\r\nfunction NoMatch() {\r\n  return (\r\n    <div>页面不存在，请检查输入地址</div>\r\n  );\r\n}\r\n\r\nexport default NoMatch;","import React from 'react';\r\nimport {useParams,useHistory} from 'react-router-dom';\r\nimport {useTags} from 'hooks/useTags';\r\nimport Layout from 'components/Layout';\r\nimport Icon from '../components/Icon';\r\nimport {Button} from '../components/Button';\r\nimport styled from 'styled-components';\r\nimport {Input} from '../components/Input';\r\nimport {Center} from '../components/Center';\r\n\r\ntype Params = {\r\n  id: string\r\n}\r\nconst TopBar=styled.header`\r\ndisplay: flex;\r\n  justify-content: space-between;\r\n  line-height: 20px;\r\n  padding: 14px;\r\n  background: white;\r\n  align-items: center;\r\n`\r\nconst InputWrapper=styled.div`\r\nbackground: white;\r\n  padding: 0 16px;\r\n  margin-top: 8px;\r\n`\r\nconst Tag: React.FC = () => {\r\n  const {findTag,updateTag,deleteTag} = useTags();\r\n  let {id:idString} = useParams<Params>();\r\n  const tag = findTag(parseInt(idString));\r\n  const tagContent=(tag:{id:number,name:string})=>(\r\n    <div>\r\n    <InputWrapper>\r\n      <Input label='标签名'\r\n             type=\"text\"\r\n             placeholder='标签名'\r\n             value={tag.name}\r\n             onChange={(e)=> {\r\n               updateTag(tag.id, {name: e.target.value})\r\n             }}\r\n      />\r\n    </InputWrapper>\r\n  <Center>\r\n    <Button onClick={()=>deleteTag(tag.id)} >删除标签</Button>\r\n  </Center>\r\n    </div>\r\n\r\n  )\r\n  const history=useHistory()\r\n  const clickBack=()=>{\r\n   history.goBack()\r\n  }\r\n  return (\r\n    <Layout>\r\n      <TopBar>\r\n        <Icon name='left' onClick={clickBack}/>\r\n        <span>编辑标签</span>\r\n        <Icon/>\r\n      </TopBar>\r\n      {tag?tagContent(tag):<Center>tag不存在</Center>}\r\n    </Layout>\r\n  );\r\n}\r\nexport {Tag};","import React from 'react';\n\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from 'react-router-dom';\n\nimport Money from './views/Money';\nimport Tags from './views/Tags';\nimport Statistics from './views/Statistics';\nimport NoMatch from './views/NoMatch';\nimport styled from 'styled-components';\nimport {Tag} from './views/Tag';\n\nconst  AppWrapper=styled.div`\ncolor: #333;\n`\nfunction App() {\n  return (\n    <AppWrapper>\n    <Router>\n      <Switch>\n        <Route path=\"/money\" exact>\n          <Money/>\n        </Route>\n        <Route path=\"/tags\" exact>\n          <Tags/>\n        </Route>\n        <Route path=\"/tags/:id\" exact={true}>\n          <Tag/>\n        </Route>\n        <Route path=\"/statistics\" exact>\n          <Statistics/>\n        </Route>\n        <Redirect exact from='/' to='/money'/>\n        <Route path='*'>\n          <NoMatch/>\n        </Route>\n      </Switch>\n\n    </Router>\n    </AppWrapper>\n  );\n}\n\n\n\n\n\n\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport 'index.scss'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n\n"],"sourceRoot":""}